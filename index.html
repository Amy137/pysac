<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PySAC</title>
  

  <link rel="shortcut icon" href="./img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="./css/theme.css" type="text/css" />
  <link rel="stylesheet" href="./css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="./css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "None";
  </script>
  
  <script src="./js/jquery-2.1.1.min.js"></script>
  <script src="./js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="./js/highlight.pack.js"></script>
  <script src="./js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="index.html" class="icon icon-home"> PySAC</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="index.html">Introduction</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#pysac">PySAC</a></li>
                
                    <li><a class="toctree-l4" href="#goals">Goals</a></li>
                
                    <li><a class="toctree-l4" href="#features">Features</a></li>
                
                    <li><a class="toctree-l4" href="#usage-examples">Usage examples</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="package/index.html">Package</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>About</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="license/index.html">License</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="obspy/index.html">ObsPy</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">PySAC</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
      
    
    <li>Introduction</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/LANL-Seismoacoustics/pysac" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="pysac">PySAC<a class="headerlink" href="#pysac" title="Permanent link">&para;</a></h1>
<p>Python interface to the <a href="http://ds.iris.edu/files/sac-manual/">Seismic Analysis
Code</a> (SAC) file format.  </p>
<p>File-type support:</p>
<ul>
<li>little and big-endian binary format</li>
<li>alphanumeric format</li>
<li>evenly-sampled data</li>
<li>time-series, not spectra</li>
</ul>
<p><a href="https://lanl-seismoacoustics.github.io/pysac">Project page</a><br />
<a href="https://github.com/LANL-Seismoacoustics/pysac">Repository</a><br />
<a href="./manual.pdf">Docs PDF</a>  </p>
<h2 id="goals">Goals<a class="headerlink" href="#goals" title="Permanent link">&para;</a></h2>
<ol>
<li>Expose the file format in a way that is intuitive to SAC users and to Python
   programmers</li>
<li>Maintaining header validity when converting between ObsPy Traces.</li>
</ol>
<h2 id="features">Features<a class="headerlink" href="#features" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Read and write SAC binary or ASCII</strong><ul>
<li>autodetect or specify expected byteorder</li>
<li>optional file size checking and/or header consistency checks</li>
<li>header-only reading and writing</li>
<li>"overwrite OK" checking ('lovrok' header)</li>
</ul>
</li>
<li><strong>Convenient access and manipulation of relative and absolute time headers</strong></li>
<li><strong>User-friendly header printing/viewing</strong></li>
<li><strong>Fast access to header values from attributes</strong><ul>
<li>With type checking, null handling, and enumerated value checking</li>
</ul>
</li>
<li><strong>Convert to/from ObsPy Traces</strong><ul>
<li>Conversion from ObsPy Trace to SAC trace retains detected previous SAC header values.</li>
<li>Conversion to ObsPy Trace retains the <em>complete</em> SAC header.</li>
</ul>
</li>
</ol>
<h2 id="usage-examples">Usage examples<a class="headerlink" href="#usage-examples" title="Permanent link">&para;</a></h2>
<h3 id="readwrite-sac-files">Read/write SAC files<a class="headerlink" href="#readwrite-sac-files" title="Permanent link">&para;</a></h3>
<pre><code class="python"># read from a binary file
sac = SACTrace.read(filename)

# read header only
sac = SACTrace.read(filename, headonly=True)

# write header-only, file must exist
sac.write(filename, headonly=True)

# read from an ASCII file
sac = SACTrace.read(filename, ascii=True)

# write a binary SAC file for a Sun machine
sac.write(filename, byteorder='big')
</code></pre>

<h3 id="reference-time-and-relative-time-headers">Reference-time and relative time headers<a class="headerlink" href="#reference-time-and-relative-time-headers" title="Permanent link">&para;</a></h3>
<pre><code class="python">sac = SACTrace(nzyear=2000, nzjday=1, nzhour=0, nzmin=0, nzsec=0, nzmsec=0,
               t1=23.5, data=numpy.arange(100))

sac.reftime
sac.b, sac.e, sac.t1
</code></pre>

<pre><code>2000-01-01T00:00:00.000000Z
(0.0, 99.0, 23.5)
</code></pre>

<p>Move reference time by relative seconds, relative time headers are preserved.</p>
<pre><code class="python">sac.reftime -= 2.5
sac.b, sac.e, sac.t1
</code></pre>

<pre><code>(2.5, 101.5, 26.0)
</code></pre>

<p>Set reference time to new absolute time, relative time headers are preserved.</p>
<pre><code class="python">sac.reftime = UTCDateTime(2000, 1, 1, 0, 2, 0, 0)
sac.b, sac.e
</code></pre>

<pre><code>(-120.0, -21.0, -96.5)
</code></pre>

<h3 id="quick-header-viewing">Quick header viewing<a class="headerlink" href="#quick-header-viewing" title="Permanent link">&para;</a></h3>
<p>Print non-null header values.</p>
<pre><code class="python">sac = SACTrace()
print sac
</code></pre>

<pre><code>Reference Time = 01/01/2000 (001) 00:00:00.000000
    iztype IB: begin time
b          = 0.0
cmpaz      = 0.0
cmpinc     = 0.0
delta      = 1.0
e          = 99.0
iftype     = itime
internal0  = 2.0
iztype     = ib
kcmpnm     = Z
lcalda     = False
leven      = True
lovrok     = True
lpspol     = True
npts       = 100
nvhdr      = 6
nzhour     = 0
nzjday     = 1
nzmin      = 0
nzmsec     = 0
nzsec      = 0
nzyear     = 2000
</code></pre>

<p>Print relative time header values.</p>
<pre><code class="python">sac.lh('picks')
</code></pre>

<pre><code>Reference Time = 01/01/1970 (001) 00:00:00.000000
    iztype IB: begin time
    a          = None
    b          = 0.0
    e          = 0.0
    f          = None
    o          = None
    t0         = None
    t1         = None
    t2         = None
    t3         = None
    t4         = None
    t5         = None
    t6         = None
    t7         = None
    t8         = None
    t9         = None
</code></pre>

<h3 id="header-values-as-attributes">Header values as attributes<a class="headerlink" href="#header-values-as-attributes" title="Permanent link">&para;</a></h3>
<p>Great for interactive use, with (ipython) tab-completion...</p>
<pre><code class="python">sac.&lt;tab&gt;
</code></pre>

<pre><code>sac.a                 sac.kevnm             sac.nzsec
sac.az                sac.kf                sac.nzyear
sac.b                 sac.khole             sac.o
sac.baz               sac.kinst             sac.odelta
sac.byteorder         sac.knetwk            sac.read
sac.cmpaz             sac.ko                sac.reftime
sac.cmpinc            sac.kstnm             sac.scale
sac.copy              sac.kt0               sac.stdp
sac.data              sac.kt1               sac.stel
sac.delta             sac.kt2               sac.stla
sac.depmax            sac.kt3               sac.stlo
sac.depmen            sac.kt4               sac.t0
sac.depmin            sac.kt5               sac.t1
sac.dist              sac.kt6               sac.t2
sac.e                 sac.kt7               sac.t3
sac.evdp              sac.kt8               sac.t4
sac.evla              sac.kt9               sac.t5
sac.evlo              sac.kuser0            sac.t6
sac.f                 sac.kuser1            sac.t7
sac.from_obspy_trace  sac.kuser2            sac.t8
sac.gcarc             sac.lcalda            sac.t9
sac.idep              sac.leven             sac.to_obspy_trace
sac.ievreg            sac.lh                sac.unused23
sac.ievtyp            sac.listhdr           sac.user0
sac.iftype            sac.lovrok            sac.user1
sac.iinst             sac.lpspol            sac.user2
sac.imagsrc           sac.mag               sac.user3
sac.imagtyp           sac.nevid             sac.user4
sac.internal0         sac.norid             sac.user5
sac.iqual             sac.npts              sac.user6
sac.istreg            sac.nvhdr             sac.user7
sac.isynth            sac.nwfid             sac.user8
sac.iztype            sac.nzhour            sac.user9
sac.ka                sac.nzjday            sac.validate
sac.kcmpnm            sac.nzmin             sac.write
sac.kdatrd            sac.nzmsec
</code></pre>

<p>...and documentation!</p>
<pre><code class="python">sac.iztype?
</code></pre>

<pre><code>Type:        property
String form: &lt;property object at 0x106404940&gt;
Docstring:
I    Reference time equivalence:
* IUNKN (5): Unknown
* IB (9): Begin time
* IDAY (10): Midnight of reference GMT day
* IO (11): Event origin time
* IA (12): First arrival time
* ITn (13-22): User defined time pick n, n=0,9
</code></pre>

<h3 id="convert-tofrom-obspy-traces">Convert to/from ObsPy Traces<a class="headerlink" href="#convert-tofrom-obspy-traces" title="Permanent link">&para;</a></h3>
<pre><code class="python">from obspy import read
tr = read()[0]
print tr.stats
</code></pre>

<pre><code>         network: BW
         station: RJOB
        location: 
         channel: EHZ
       starttime: 2009-08-24T00:20:03.000000Z
         endtime: 2009-08-24T00:20:32.990000Z
   sampling_rate: 100.0
           delta: 0.01
            npts: 3000
           calib: 1.0
    back_azimuth: 100.0
     inclination: 30.0
</code></pre>

<pre><code class="python">sac = SACTrace.from_obspy_trace(tr)
print sac
</code></pre>

<pre><code>Reference Time = 08/24/2009 (236) 00:20:03.000000
    iztype IB: begin time
b          = 0.0
cmpaz      = 0.0
cmpinc     = 0.0
delta      = 0.00999999977648
depmax     = 1293.77099609
depmen     = -4.49556303024
depmin     = -1515.81311035
e          = 29.9899993297
iftype     = itime
internal0  = 2.0
iztype     = ib
kcmpnm     = EHZ
knetwk     = BW
kstnm      = RJOB
lcalda     = False
leven      = True
lovrok     = True
lpspol     = True
npts       = 3000
nvhdr      = 6
nzhour     = 0
nzjday     = 236
nzmin      = 20
nzmsec     = 0
nzsec      = 3
nzyear     = 2009
scale      = 1.0
</code></pre>

<pre><code class="python">tr2 = sac.to_obspy_trace()
print tr2.stats
</code></pre>

<pre><code>         network: BW
         station: RJOB
        location:
         channel: EHZ
       starttime: 2009-08-24T00:20:03.000000Z
         endtime: 2009-08-24T00:20:32.990000Z
   sampling_rate: 100.0
           delta: 0.01
            npts: 3000
           calib: 1.0
             sac: AttribDict({'cmpaz': 0.0, 'nzyear': 2009, 'nzjday': 236,
             'iztype': 9, 'evla': 0.0, 'nzhour': 0, 'lcalda': 0, 'evlo': 0.0,
             'scale': 1.0, 'nvhdr': 6, 'depmin': -1515.8131, 'kcmpnm': 'EHZ',
             'nzsec': 3, 'internal0': 2.0, 'depmen': -4.495563, 'cmpinc': 0.0,
             'depmax': 1293.771, 'iftype': 1, 'delta': 0.0099999998, 'nzmsec':
             0, 'lpspol': 1, 'b': 0.0, 'e': 29.99, 'leven': 1, 'kstnm': 'RJOB',
             'nzmin': 20, 'lovrok': 1, 'npts': 3000, 'knetwk': 'BW'})
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="package/index.html" class="btn btn-neutral float-right" title="Package"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
        <span style="margin-left: 15px"><a href="package/index.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>

<!--
MkDocs version : 0.14.0
Build Date UTC : 2015-10-09 21:47:21.376064
-->

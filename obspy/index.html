<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ObsPy - PySAC</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "ObsPy";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="icon icon-home"> PySAC</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../index.html">Introduction</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../manual/index.html">Manual</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>About</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../license/index.html">License</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="index.html">ObsPy</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#relationship-to-obspy">Relationship to ObsPy</a></li>
                
            
                <li class="toctree-l3"><a href="#why-a-re-write">Why a re-write?</a></li>
                
            
                <li class="toctree-l3"><a href="#improve-maintainability">Improve maintainability.</a></li>
                
            
                <li class="toctree-l3"><a href="#expand-support-for-round-trip-sac-file-processing">Expand support for round-trip SAC file processing</a></li>
                
            
            </ul>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">PySAC</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
    
      
        
          <li>About &raquo;</li>
        
      
    
    <li>ObsPy</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/jkmacc-LANL/pysac" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="relationship-to-obspy">Relationship to ObsPy<a class="headerlink" href="#relationship-to-obspy" title="Permanent link">&para;</a></h2>
<p>PySAC is largely re-written from the
<a href="https://github.com/obspy/obspy/tree/master/obspy/io/sac">obspy.io.sac</a> module,
with the intention of eventually replacing it.</p>
<h2 id="why-a-re-write">Why a re-write?<a class="headerlink" href="#why-a-re-write" title="Permanent link">&para;</a></h2>
<p>The sacio module underlying ObsPy's SAC handling was sometimes hard to follow,
as it has a long inheritance, which made it hard to track down issues or make
fixes. This re-write attempts to make the SAC plugin easier to understand and
maintain, as well as offer some potential improvements.</p>
<h2 id="improve-maintainability">Improve maintainability.<a class="headerlink" href="#improve-maintainability" title="Permanent link">&para;</a></h2>
<p>I've split out the header specification (header.py), the low-level array-based
SAC file I/O (arrayio.py), and the object-oriented interface (sactrace.py),
whereas it was previously all within one sacio.py module. I hope that the flow
of how each plugs into the other is clear, so that bug tracking is
straight-forward, and that hacking on one aspect of SAC handling is not
cluttered/distracted by another.</p>
<h2 id="expand-support-for-round-trip-sac-file-processing">Expand support for round-trip SAC file processing<a class="headerlink" href="#expand-support-for-round-trip-sac-file-processing" title="Permanent link">&para;</a></h2>
<p>This rewrite attempts to improve support for a common work flow: read one or
more SAC files into ObsPy, do some processing, then (over)write them back as
SAC files that look mostly like the originals. Previously, ObsPy Traces written
to SAC files wrote only files based on the first sample time (iztype 9/'ib').
In <code>util.py:obspy_to_sac_header</code> of this module, if an old tr.stats.sac SAC
header is found, the iztype and reference "nz" times are used and kept, and the
"b" and "e" times of the Trace being written are adjusted according to this
reference time. This preserves the absolute reference of any relative time
headers, like t0-t9, carried from the old SAC header into the new file. This
can only be done if SAC to Trace conversion preserves these "nz" time headers,
which is possible with the current <code>debug_headers=True</code> flag.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../license/index.html" class="btn btn-neutral" title="License"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../license/index.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>

</body>
</html>
